(window.webpackJsonppasstore=window.webpackJsonppasstore||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(3),o=n.n(s),r=(n(13),n(1)),c=n(6),l=n(4),p=n(7),d=n(5);var u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!["GET","POST","HEAD"].includes(n.toUpperCase()))throw new Error("Unhandled method passed");var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){if(200===i.status){var e=document.createElement("script");e.innerHTML=i.responseText,document.querySelector("head").appendChild(e)}"undefined"!=typeof t&&setTimeout(function(){t(i.responseText,i.status,i)},0)}},i.open(n,e,a),i.send()},g={apiKey:"AIzaSyA3k2KGpFCPZolfzG0dZxIMQSNEBTK2Q0s",clientId:"693421068041-8v4j719d0cg5dek8ab2elmen2mqe33b8.apps.googleusercontent.com",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4","https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scopes:"https://www.googleapis.com/auth/drive.metadata.readonly https://www.googleapis.com/auth/spreadsheets"},h=function(){function e(){Object(r.a)(this,e),this.gapi=null,this.init_gapi_callback=function(){},this.instance=null,this.spreadsheet_id=null}return Object(d.a)(e,[{key:"is_ready",value:function(){return null!=this.gapi}},{key:"get_gapi_callback",value:function(){return this.init_gapi_callback}},{key:"sign_in",value:function(){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");this.gapi.auth2.getAuthInstance().signIn()}},{key:"sign_out",value:function(){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");this.gapi.auth2.getAuthInstance().signOut()}},{key:"create_spreadsheet",value:function(e,t){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");if(!window.gapi.auth2.getAuthInstance().isSignedIn.get())throw new Error("You need to be signed in to create documents");if(null!=this.spreadsheet_id)throw new Error("Your request is being processed or document has already been created");this.spreadsheet_id=-1;var n=this.instance;this.gapi.client.drive.files.list({pageSize:10,q:"mimeType='application/vnd.google-apps.spreadsheet' and name='"+e+"'",fields:"nextPageToken, files(id, name)"}).then(function(a){var i=a.result.files;if(i&&i.length>0)for(var s=0;s<i.length;s++){var o=i[s];n.spreadsheet_id=o.id,t(!0);break}else n.gapi.client.sheets.spreadsheets.create({properties:{title:e}}).then(function(e){n.spreadsheet_id=e.result.spreadsheetId,t(!0)})})}}]),e}();var _=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).update_sign_in_status=function(e){n.setState({logged_in:e})},n.render=function(){return i.a.createElement("div",null,i.a.createElement("h4",{className:"bg-primary text-white text-center p-2"},"Passwords"),i.a.createElement("button",{className:"btn btn-primary m-2",style:n.state.logged_in?{display:"none"}:{display:"block"},onClick:n.gapi_oauth},"Authenticate to your google account"),i.a.createElement("button",{className:"btn btn-primary m-2",style:n.state.logged_in?{display:"block"}:{display:"none"},onClick:n.gapi_logout},"Log out from your google account"),i.a.createElement("button",{className:"btn btn-primary m-2",style:n.state.logged_in&&!n.state.doc_created?{display:"block"}:{display:"none"},onClick:n.gapi_create_spreadsheet},"Create spreadsheet"))},n.gapi_oauth=function(){try{n.gapi_wrapper.sign_in()}catch(e){alert(e)}},n.gapi_logout=function(){try{n.gapi_wrapper.sign_out()}catch(e){alert(e)}},n.update_doc_created_status=function(e){n.setState({doc_created:e})},n.gapi_create_spreadsheet=function(){try{n.gapi_wrapper.create_spreadsheet("do_not_rename_me_aes_256_passwords.xls",n.update_doc_created_status)}catch(e){alert(e)}},n.state={logged_in:!1,doc_created:!1,passwords:[{url:"example.com",encrypted_pwd:""},{url:"example.com",encrypted_pwd:""},{url:"example.com",encrypted_pwd:""},{url:"example.com",encrypted_pwd:""}]},n.gapi_wrapper=function(e){if(!e&&"[object Function]"==={}.toString.call(e))throw new Error("signed_in_hook must be a function.");var t=new h;return t.instance=t,t.init_gapi_callback=function(){window.gapi.client.init({apiKey:g.apiKey,clientId:g.clientId,discoveryDocs:g.discoveryDocs,scope:g.scopes}).then(function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(e),e(window.gapi.auth2.getAuthInstance().isSignedIn.get()),t.gapi=window.gapi},function(e){console.log(JSON.stringify(e,null,2))})},u("https://apis.google.com/js/api.js",function(){window.gapi.load("client:auth2",t.init_gapi_callback)}),t}(n.update_sign_in_status),n}return Object(p.a)(t,e),t}(i.a.Component);n(14);o.a.render(i.a.createElement(_,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.cb61ba21.chunk.js.map