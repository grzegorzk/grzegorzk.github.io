(window.webpackJsonppasstore=window.webpackJsonppasstore||[]).push([[0],{13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(3),o=a.n(s),r=(a(13),a(1)),l=a(6),c=a(4),d=a(7),p=a(5);var u=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!["GET","POST","HEAD"].includes(a.toUpperCase()))throw new Error("Unhandled method passed");var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){if(200===i.status){var e=document.createElement("script");e.innerHTML=i.responseText,document.querySelector("head").appendChild(e)}"undefined"!=typeof t&&setTimeout(function(){t(i.responseText,i.status,i)},0)}},i.open(a,e,n),i.send()},g={apiKey:"AIzaSyA3k2KGpFCPZolfzG0dZxIMQSNEBTK2Q0s",clientId:"693421068041-8v4j719d0cg5dek8ab2elmen2mqe33b8.apps.googleusercontent.com",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4","https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scopes:"https://www.googleapis.com/auth/drive.metadata.readonly https://www.googleapis.com/auth/spreadsheets"},h=function(){function e(){Object(r.a)(this,e),this.gapi=null,this.init_gapi_callback=function(){},this.instance=null,this.spreadsheet_id=null,this.invalid_spreadsheet_id=-1}return Object(p.a)(e,[{key:"is_ready",value:function(){return null!=this.gapi}},{key:"get_gapi_callback",value:function(){return this.init_gapi_callback}},{key:"sign_in",value:function(){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");this.gapi.auth2.getAuthInstance().signIn()}},{key:"sign_out",value:function(){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");this.gapi.auth2.getAuthInstance().signOut()}},{key:"get_spreadsheet",value:function(e,t){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");if(!window.gapi.auth2.getAuthInstance().isSignedIn.get())throw new Error("You need to be signed in to create documents");if(null!=this.spreadsheet_id)throw new Error("Your request is being processed or document has already been created");this.spreadsheet_id=this.invalid_spreadsheet_id;var a=this.instance;this.gapi.client.drive.files.list({pageSize:10,q:"mimeType='application/vnd.google-apps.spreadsheet' and name='"+e+"'",fields:"nextPageToken, files(id, name)"}).then(function(n){var i=n.result.files;if(i&&1==i.length)for(var s=null,o=0;o<i.length;o++)s=i[o],a.spreadsheet_id=s.id,t(!0);else{if(i.length>1){a.spreadsheet_id=a.invalid_spreadsheet_id;var r="More than one '"+e+"' found. Remove unwanted copy and try again";throw r+="\nIf you removed duplicate remember to also remove it from google drive trash",console.log(r),alert(r),new Error(r)}!function(e,t){a.gapi.client.sheets.spreadsheets.create({properties:{title:e}}).then(function(e){a.spreadsheet_id=e.result.spreadsheetId,t(!0)})}(e,t)}})}}]),e}();var m=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).update_sign_in_status=function(e){a.setState({logged_in:e})},a.render=function(){return i.a.createElement("div",null,i.a.createElement("h4",{className:"bg-primary text-white text-center p-2"},"Passwords"),i.a.createElement("button",{className:"btn btn-primary m-2",style:a.state.logged_in?{display:"none"}:{display:"block"},onClick:a.gapi_oauth},"Authenticate to your google account"),i.a.createElement("button",{className:"btn btn-primary m-2",style:a.state.logged_in?{display:"block"}:{display:"none"},onClick:a.gapi_logout},"Log out from your google account"),i.a.createElement("button",{className:"btn btn-primary m-2",style:a.state.logged_in&&!a.state.doc_obtained?{display:"block"}:{display:"none"},onClick:a.gapi_open_spreadsheet},"Open spreadsheet"),i.a.createElement("table",{className:"table",style:a.state.logged_in&&a.state.doc_obtained?{display:"block"}:{display:"none"}},i.a.createElement("thead",{className:"thead-dark"},i.a.createElement("tr",null,i.a.createElement("th",{scope:"col"},"#"),i.a.createElement("th",{scope:"col"},"url"),i.a.createElement("th",{scope:"col"},"user name"),i.a.createElement("th",{scope:"col"},"password"))),i.a.createElement("tbody",null,a.state.passwords.map(function(e,t){return i.a.createElement("tr",{key:t},i.a.createElement("td",null,t),i.a.createElement("td",null,e.url),i.a.createElement("td",null,e.uname),i.a.createElement("td",null,"***"))}))))},a.gapi_oauth=function(){try{a.gapi_wrapper.sign_in()}catch(e){alert(e)}},a.gapi_logout=function(){try{a.gapi_wrapper.sign_out()}catch(e){alert(e)}},a.update_doc_obtained_status=function(e){a.setState({doc_obtained:e})},a.gapi_open_spreadsheet=function(){try{a.gapi_wrapper.get_spreadsheet(a.spreadsheet_name,a.update_doc_obtained_status)}catch(e){alert(e)}},a.state={logged_in:!1,doc_obtained:!1,passwords:[{url:"example.com",encrypted_pwd:""},{url:"example.com",uname:"example",encrypted_pwd:""},{url:"example.com",uname:"example",encrypted_pwd:""},{url:"example.com",uname:"example",encrypted_pwd:""}]},a.spreadsheet_name="do_not_rename_me_aes_256_passwords.xls",a.gapi_wrapper=function(e){if(!e&&"[object Function]"==={}.toString.call(e))throw new Error("signed_in_hook must be a function.");var t=new h;return t.instance=t,t.init_gapi_callback=function(){window.gapi.client.init({apiKey:g.apiKey,clientId:g.clientId,discoveryDocs:g.discoveryDocs,scope:g.scopes}).then(function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(e),e(window.gapi.auth2.getAuthInstance().isSignedIn.get()),t.gapi=window.gapi},function(e){console.log(JSON.stringify(e,null,2))})},u("https://apis.google.com/js/api.js",function(){window.gapi.load("client:auth2",t.init_gapi_callback)}),t}(a.update_sign_in_status),a}return Object(d.a)(t,e),t}(i.a.Component);a(14);o.a.render(i.a.createElement(m,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.aa35a456.chunk.js.map