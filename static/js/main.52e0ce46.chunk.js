(window.webpackJsonppasstore=window.webpackJsonppasstore||[]).push([[0],{10:function(e,t,a){e.exports=a(17)},15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(4),o=a.n(i),r=(a(15),a(5)),c=a(2),l=a(1),p=a(8),d=a(6),u=a(9),g=a(7);var _=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!["GET","POST","HEAD"].includes(a.toUpperCase()))throw new Error("Unhandled method passed");var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE){if(200===s.status){var e=document.createElement("script");e.innerHTML=s.responseText,document.querySelector("head").appendChild(e)}"undefined"!=typeof t&&setTimeout(function(){t(s.responseText,s.status,s)},0)}},s.open(a,e,n),s.send()},h={apiKey:"AIzaSyA3k2KGpFCPZolfzG0dZxIMQSNEBTK2Q0s",clientId:"693421068041-8v4j719d0cg5dek8ab2elmen2mqe33b8.apps.googleusercontent.com",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4","https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],scopes:"https://www.googleapis.com/auth/drive.metadata.readonly https://www.googleapis.com/auth/spreadsheets"},m=function(){function e(){Object(l.a)(this,e),this.gapi=null,this.init_gapi_callback=function(){},this.instance=null,this.spreadsheet_id=null,this.invalid_spreadsheet_id=-1}return Object(g.a)(e,[{key:"is_ready",value:function(){return null!=this.gapi}},{key:"get_gapi_callback",value:function(){return this.init_gapi_callback}},{key:"sign_in",value:function(){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");this.gapi.auth2.getAuthInstance().signIn()}},{key:"sign_out",value:function(){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");this.gapi.auth2.getAuthInstance().signOut()}},{key:"get_spreadsheet",value:function(e,t){if(!this.is_ready())throw new Error("Gooogle API is still loading, please try again");if(!window.gapi.auth2.getAuthInstance().isSignedIn.get())throw new Error("You need to be signed in to create documents");if(null!=this.spreadsheet_id)throw new Error("Your request is being processed or document has already been created");this.spreadsheet_id=this.invalid_spreadsheet_id;var a=this.instance;this.gapi.client.drive.files.list({pageSize:10,q:"mimeType='application/vnd.google-apps.spreadsheet' and name='"+e+"'",fields:"nextPageToken, files(id, name)"}).then(function(n){var s=n.result.files;if(s&&1==s.length)for(var i=null,o=0;o<s.length;o++)i=s[o],a.spreadsheet_id=i.id,t(!0);else{if(s.length>1){a.spreadsheet_id=a.invalid_spreadsheet_id;var r="More than one '"+e+"' found. Remove unwanted copy and try again";throw r+="\nIf you removed duplicate remember to also remove it from google drive trash",console.log(r),alert(r),new Error(r)}!function(e,t){a.gapi.client.sheets.spreadsheets.create({properties:{title:e}}).then(function(e){a.spreadsheet_id=e.result.spreadsheetId,t(!0)})}(e,t)}})}}]),e}();function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach(function(t){Object(r.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).update_sign_in_status=function(e){a.setState({logged_in:e})},a.render=function(){return s.a.createElement("div",null,s.a.createElement("h4",{className:"bg-primary text-white text-center p-2"},"Passwords"),s.a.createElement("button",{className:"btn btn-primary m-2",style:a.state.logged_in?{display:"none"}:{display:"block"},onClick:a.gapi_oauth},"Authenticate to your google account"),s.a.createElement("button",{className:"btn btn-primary m-2",style:a.state.logged_in?{display:"block"}:{display:"none"},onClick:a.gapi_logout},"Log out from your google account"),s.a.createElement("button",{className:"btn btn-primary m-2",style:a.state.logged_in&&!a.state.doc_obtained?{display:"block"}:{display:"none"},onClick:a.gapi_open_spreadsheet},"Open spreadsheet"),s.a.createElement("button",{className:"btn btn-primary m-2",style:a.state.logged_in&&a.state.doc_obtained?{display:"block"}:{display:"none"},onClick:a.gapi_unload_spreadsheet},"Unload spreadsheet"),s.a.createElement("table",{className:"table",style:a.state.logged_in&&a.state.doc_obtained?{display:"block"}:{display:"none"}},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"#"),s.a.createElement("th",{scope:"col"},"url"),s.a.createElement("th",{scope:"col"},"user name"),s.a.createElement("th",{scope:"col"},"password"))),s.a.createElement("tbody",null,a.state.passwords.map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t),s.a.createElement("td",{onClick:function(){return a.update_url(t)}},e.url),s.a.createElement("td",{onClick:function(){return a.update_uname(t)}},e.uname),s.a.createElement("td",{onClick:function(){return a.gapi_pwd_to_clipboard(t)}},"***"),s.a.createElement("td",{onClick:function(){return a.gapi_update_pwd(t)}},"change password"))}))))},a.gapi_oauth=function(){try{a.gapi_wrapper.sign_in()}catch(e){alert(e)}},a.gapi_logout=function(){try{a.gapi_wrapper.sign_out()}catch(e){alert(e)}},a.update_doc_obtained_status=function(e){a.setState({doc_obtained:e})},a.gapi_open_spreadsheet=function(){try{a.gapi_wrapper.get_spreadsheet(a.spreadsheet_name,a.update_doc_obtained_status)}catch(e){alert(e)}},a.gapi_unload_spreadsheet=function(){a.setState({passwords:[],doc_obtained:!1}),a.gapi_wrapper.spreadsheet_id=null},a.update_url_in_state=function(e,t){var n=Object(c.a)(a.state.passwords),s=w({},n[e]);s.url=t,n[e]=s,a.setState({passwords:n})},a.update_url=function(e){var t=prompt(a.state.passwords[e].url);a.update_url_in_state(e,t)},a.update_uname_in_state=function(e,t){var n=Object(c.a)(a.state.passwords),s=w({},n[e]);s.uname=t,n[e]=s,a.setState({passwords:n})},a.update_uname=function(e){var t=prompt(a.state.passwords[e].uname);a.update_uname_in_state(e,t)},a.gapi_pwd_to_clipboard=function(e){},a.gapi_update_pwd=function(e){},a.state={logged_in:!1,doc_obtained:!1,passwords:[{url:"example.com",uname:"example",encrypted_pwd:""},{url:"example.com",uname:"example",encrypted_pwd:""},{url:"example.com",uname:"example",encrypted_pwd:""},{url:"example.com",uname:"example",encrypted_pwd:""}]},a.spreadsheet_name="do_not_rename_me_aes_256_passwords.xls",a.gapi_wrapper=function(e){if(!e&&"[object Function]"==={}.toString.call(e))throw new Error("signed_in_hook must be a function.");var t=new m;return t.instance=t,t.init_gapi_callback=function(){window.gapi.client.init({apiKey:h.apiKey,clientId:h.clientId,discoveryDocs:h.discoveryDocs,scope:h.scopes}).then(function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(e),e(window.gapi.auth2.getAuthInstance().isSignedIn.get()),t.gapi=window.gapi},function(e){console.log(JSON.stringify(e,null,2))})},_("https://apis.google.com/js/api.js",function(){window.gapi.load("client:auth2",t.init_gapi_callback)}),t}(a.update_sign_in_status),a}return Object(u.a)(t,e),t}(s.a.Component);a(16);o.a.render(s.a.createElement(y,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.52e0ce46.chunk.js.map